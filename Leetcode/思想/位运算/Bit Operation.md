# 位运算

## 数组中两个数的最大异或值

> 求非空数组中两个数异或的最大值

关键

- 异或运算的性质  
  如果三个数中的其中两个异或可以得到第三个，那么他们的顺序可以任意调换
- 贪心  
  1. 二进制越高位是‘1’，则这个数越大
  2. 专注最大异或值  
    只用关心最大异或值需要满足什么性质，进而推出这个最大值是什么，而不必关心这个异或值是由哪两个数得来的
- 使用前缀找出异或值

思路

1. 假设最大异或值是S，那么必有两个数异或等于S，根据异或运算的性质，S与其中一个数异或的值必然在数组中。

2. 根据这个特点，从最高位，找到第一个不是0的前缀，贪心的认为是S的前缀，然后与数组中所有元素对应前缀异或，若找到存在于数组中的元素，则认为假设正确，继续往下

3. 若不存在，赋为 0，一直到最右

复杂度分析

- 时间复杂度：O(N)，把整个数组搜索了 32 次，即 O(32N) = O(N)
- 空间复杂度：O(n)，这里的 n 是哈希表的长度，具体长度是多少，与输入的规模、扩容策略、负载因子和冲突策略等有关。

```python
def findMaximumXOR(nums):
    res = 0
    mask = 0
    for i in range(31, -1, -1):
        # 生成掩码
        mask |= (1 << i)
        # 当前得到的所有前缀都放在这个哈希表中
        s = set()
        # 掩码与原数依次与操作，得到前缀
        for num in nums:
            s.add(mask & num)
        # 先“贪心地”假设这个数位上是 “1” ，如果全部前缀都看完，都不符合条件，这个数位上就是 “0”
        temp = res | (1 << i)
        for prefix in s:
            if temp ^ prefix in s:
                res = temp
                break
    return res
```
