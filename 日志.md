### 2019.09.15

#### 复习  
1. **NMS & IOU 代码**
    ```python
    ## 获得顺序
    order = scores.argsort()[::-1]
    ...
    while order.size > 0:
        i = order[0]
        keep.append(i)
        ...
        ## 比较
        np.maximum(x1[i], x1[order[1:]])
        ...
        detlist = np.where(iou <= thr)[0]
        order = order[detlist + 1]

    ```
    

2. **直方图均衡**  
   ```python
   ## 图片数组转换
   img = np.asarray(img)
   img = Image.fromarray(img)

   ## 统计灰度级别
   numpix = np.zeros([256])
   ...
   numpix[img[i][j]] += 1

   ## 累积归一化
   sumpix = np.zeros([256])
   ...
   sumpix[i] += sum(propix[:i])

   ## 重新映射  
   new_img = np.empty(img.shape, dtype=np.uint8)
   ...
   new_img[i][j] = 256 * sumpix[img[i][j]]

   ``` 

3. **Guide anchoring**  
    - 是什么？  
      网络通过训练自动生成 anchor, 无需手动预设
    - 为什么？  
      因为预设的 anchor 尺寸和纵横比是固定的，无法适应极端情况，并且离散的尺寸和纵横比不利于学习，因此考虑让网络自己学习anchor
    - 怎么做？
      ahchor $$p(x,y,w,h|I) = p(x,y|I)p(w,h|x,y,I)$$ 

   
