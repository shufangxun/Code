### **2019.10.12**

#### **1. 堆**

**前言**
完全二叉树；设一个二叉树的深度为h，那么除第h层外，其他各层的节点数都达到最大，并且第h层的节点都靠在左侧  
平衡二叉树: 左右子树的深度差不超过1，并且左右子树也是平衡二叉树　　

**定义**  
堆逻辑上是树的结构，用数组存储，具有如下性质：
- 是完全二叉树
- 堆中每个节点都>=(<=)孩子节点    

数学上就是，对于$n$个元素的序列${k1,k2,ki,…,kn}$，构成堆的条件： 
> $(k_{i} <= k_{2i}，k_{i} <= k_{2i+1})$ 或者 $(k_{i} >= k_{2i},k_{i} >= k_{2i+1})， (i = 1,2,3,4...n/2)$

　



**数组中堆的节点：** 对于下标为i的元素　　 　　
```python 
父节点　floor((i - 1) // 2)
左孩子  2 * i + 1  
右孩子　2 * i + 2  
```
　
**构建堆**　[参考](https://www.cnblogs.com/sxkgeek/p/9662491.html)  
以大顶堆为例$(k_{i} >= k_{2i}，k_{i} >= k_{2i+1})$，序列对应一个完全二叉树，从最后一个**非叶子节点**（n div 2）开始，到**根节点**（1）为止，一次对每个非叶子节点进行调整（**下沉**），以便形成以每个非叶子节点为根的堆，当最后对根节点进行调整后，整个树就变成一个堆
